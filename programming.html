<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"><!-- CSS only -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
   
   <!--Math. library link-->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/7.5.1/math.min.js"></script>
   <!--Math. library link-->
   
    <title>IAD Lab Assignment 2 (Matrix Calculator)</title>
</head>
<body>

    <div class="container mt-5" style="font-weight:bold;text-align:center">
        <label for="">Following is the result of the Matrices: </label>
        <span id="inputsofmatrix"></span>
        <p id="result"></p>
    </div>

<script>
    var inputsofmatrix = document.getElementById('inputsofmatrix');
    var NumberofMat,r,c;
    NumberofMat = prompt('Enter the number of Matrices');
    if (NumberofMat == 1 || NumberofMat==2){
        totalmatrices = []
        for (var k=0; k<NumberofMat; k++){
        r = prompt('Enter the number of Rows of matrix '+(k+1));
        c = prompt('Enter the number of Columns of matrix '+(k+1));
        var mat = [];
        inputsofmatrix.innerHTML += '<br> Matrix: '+ (k+1);
        for (var i=0; i<r; i++){
            mat[i] = [];
            for (var j=0; j<c; j++){
                console.log(matt= prompt ('Enter a value for the cell ' + i + 'x' + j +' of matrix '+(k+1)+' is:'));
                console.log(mat[i].push(Number(matt)));
                inputsofmatrix.innerHTML += '<br>'+i+','+j+' =' + matt;
            }
        }

        totalmatrices.push(mat)
    }
    console.log(totalmatrices);
    }
    else {
    alert('Invalid Input. Only upto 2 matrices allowed.')
}



    


if(k == 1){
whatoperation = prompt('Select the ID of what operation to be performed:\n1) Determinant of the matrix\n2) Transpose of the matrix\n3) Inverse of the matrix\n4) Add a scalar to matrix then multiply the matrix with a scalar');
if(whatoperation == 1){
    const determinant = m => 
    m.length == 1 ?
    m[0][0] :
    m.length == 2 ? 
    m[0][0]*m[1][1]-m[0][1]*m[1][0] :
    m[0].reduce((r,e,i) => 
        r+(-1)**(i+2)*e*determinant(m.slice(1).map(c => 
        c.filter((_,j) => i != j))),0)
    console.log(determinant(mat))
    matt123 = determinant(mat)
    inputsofmatrix.innerHTML += '<br>Result of the Determinant of matrix '+k+' is ('+matt123+')';
}
else if(whatoperation == 2){
    matt123 = math.transpose(mat)
    inputsofmatrix.innerHTML += '<br>Result of the Transpose of matrix '+k+' is ('+matt123+')';
    console.log(matt123)
}
else if(whatoperation == 3){
    matt123 = math.inv(mat)
    inputsofmatrix.innerHTML += '<br>Result of the Inverse of matrix '+k+' is ('+matt123+')';
    console.log(matt123)

}
else if(whatoperation == 4){
    adscalar = prompt('Enter the number of scalar ');
    matt123 = math.multiply(mat,adscalar)
    inputsofmatrix.innerHTML += '<br>Result of the Multiplication of matrix '+k+' is ('+matt123+')';
    console.log(matt123)
}
else{
    alert('Incorrect Input')
}
}

if(k == 2){
whatoperation = prompt('Select the number of what operation to be performed:\n1) Multiply the first matrix with the second.\n2) Multiply the second matrix with first.\n3) Add both matrices\n4) Subtract the first matrix from second\n5) Subtract the second matrix from the first');
if(whatoperation == 1){
    try {
        matt123 =math.multiply(totalmatrices[0],totalmatrices[1]);
        inputsofmatrix.innerHTML += '<br>Result of the Multiplication of the first matrix with the second matrix '+k+' is ('+matt123+')';
        console.log(matt123)
    }
    catch(err) {
        document.getElementById("result").innerHTML = err.message;
    }
    
    
}
else if(whatoperation == 2){
    try {
        matt123 = math.multiply(totalmatrices[1],totalmatrices[0]);
        inputsofmatrix.innerHTML += '<br>Result of the Multiplication the second matrix with first matrix '+k+' is ('+matt123+')';
        console.log(matt123)
    }
    catch(err) {
        document.getElementById("result").innerHTML = err.message;
    }

    
}
else if(whatoperation == 3){
    try {
        matt123 = math.add(totalmatrices[0],totalmatrices[1]);
        inputsofmatrix.innerHTML += '<br>Result of the Addition of both matrices'+k+' is ('+matt123+')';
        console.log(matt123)
    }
    catch(err) {
        document.getElementById("result").innerHTML = err.message;
    }

}
else if(whatoperation == 4){
    try {
        matt123 =  math.subtract(totalmatrices[0],totalmatrices[1]);
        inputsofmatrix.innerHTML += '<br>Result of the Subtraction of the first matrix from second matrix '+k+' is ('+matt123+')';
        console.log(matt123)    }
    catch(err) {
        document.getElementById("result").innerHTML = err.message;
    }
}
else if(whatoperation == 5){

    try {    
        matt123 =math.subtract(totalmatrices[1],totalmatrices[0]);
        inputsofmatrix.innerHTML += '<br>Result of the Subtraction of the second matrix from the first matrix '+k+' is ('+matt123+')';
        console.log(matt123)
    }
    catch(err) {
        document.getElementById("result").innerHTML = err.message;
    }
    
}
else{
    alert('Incorrect Input')
}
}
</script>

</body>